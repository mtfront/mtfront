<!-- https://zhuzi.dev/posts/2025-01-12-open-heart/ -->
{{ if ne (getenv "HUGO_ENV") "production" }}
<div class="reaction-container">
    <open-heart href="https://blog-reaction.mtfront-reaction.workers.dev/blog.douchi.space/{{ .RelPermalink }}" emoji="❤️" count=1>❤️</open-heart>
    <!-- <open-heart href="https://blog-reaction.mtfront-reaction.workers.dev/blog.douchi.space/{{ .RelPermalink }}" emoji="👍">👍</open-heart> -->
    <open-heart href="https://blog-reaction.mtfront-reaction.workers.dev/blog.douchi.space/{{ .RelPermalink }}" emoji="🤣">🤣</open-heart>
    <open-heart href="https://blog-reaction.mtfront-reaction.workers.dev/blog.douchi.space/{{ .RelPermalink }}" emoji="🤔">🤔</open-heart>
    <open-heart href="https://blog-reaction.mtfront-reaction.workers.dev/blog.douchi.space/{{ .RelPermalink }}" emoji="🤯">🤯</open-heart>
</div>
<!-- load web component -->
<script src="https://unpkg.com/open-heart-element" type="module"></script>
<!-- when the webcomponent loads, fetch the current counts for that page -->
<script>
window.customElements.whenDefined('open-heart').then(() => {
    for (const oh of document.querySelectorAll('open-heart')) {
        oh.getCount()
    }
})
// refresh component after click
window.addEventListener('open-heart', e => {
    e && e.target && e.target.getCount && e.target.getCount()
})
</script>
{{ end }}